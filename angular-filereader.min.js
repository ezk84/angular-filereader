"use strict";angular.module("filereader",[]).factory("FileReader",["$q","$window",function(r,e){var n=function(r,e,n){return function(){n.$apply(function(){e.resolve(r.result)})}},t=function(r,e,n){return function(){n.$apply(function(){e.reject(r.result)})}},a=function(r,e){return function(r){e.$broadcast("fileProgress",{total:r.total,loaded:r.loaded})}},o=function(r,o){var i=new e.FileReader;return i.onload=n(i,r,o),i.onerror=t(i,r,o),i.onprogress=a(i,o),i},i=function(e,n){var t=r.defer(),a=o(t,n);return a.readAsDataURL(e),t.promise},u=function(e,n,t){var a=r.defer(),i=o(a,t);return i.readAsText(e,n),a.promise},d=function(e,n){var t=r.defer(),a=o(t,n);return a.readAsBinaryString(e),t.promise};return{readAsDataURL:i,readAsBinaryString:d,readAsText:u}}]);